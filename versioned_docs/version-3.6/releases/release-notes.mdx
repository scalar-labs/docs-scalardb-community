# ScalarDB 3.6 Release Notes

This page includes a list of release notes for ScalarDB 3.6.

## v3.6.8

**Release date:** December 25, 2023 

### Summary

This release has several bug fixes, vulnerability fixes, and document improvements.

### Change logs

#### Bug fixes

- Should drop namespace only when no tables are in the namespace in Schema Loader ([#740](https://github.com/scalar-labs/scalardb/pull/740))
- Upgraded the base image to fix security issues. [CVE-2023-4911](https://github.com/advisories/GHSA-m77w-6vjw-wh2f "CVE-2023-4911") [CVE-2023-29491](https://github.com/advisories/GHSA-vh2x-5rx6-qqhv "CVE-2023-29491") ([#1143](https://github.com/scalar-labs/scalardb/pull/1143) [#1144](https://github.com/scalar-labs/scalardb/pull/1144))
- Upgraded the jetty library to 9.4.53.v20231009 to fix security issue. [CVE-2023-36478](https://github.com/advisories/GHSA-wgh7-54f2-x98r "CVE-2023-36478") ([#1142](https://github.com/scalar-labs/scalardb/pull/1142))
- Upgraded grpc-health-probe to fix security issues. [CVE-2023-39325](https://github.com/advisories/GHSA-4374-p667-p6c8 "CVE-2023-39325") [GHSA-m425-mq94-257g](https://github.com/advisories/GHSA-m425-mq94-257g "GHSA-m425-mq94-257g") ([#1297](https://github.com/scalar-labs/scalardb/pull/1297))
- Upgraded the Cosmos DB client lib to fix security issues. [CVE-2023-34062](https://github.com/advisories/GHSA-xjhv-p3fv-x24r "CVE-2023-34062") ([#1348](https://github.com/scalar-labs/scalardb/pull/1348))

## v3.6.7

**Release date:** August 7, 2023 

### Summary

This release has several bug fixes and vulnerability fixes.

### Change logs

#### Bug fixes

- Avoid decrementing outstanding requests counter duplicately ([#935](https://github.com/scalar-labs/scalardb/pull/935))
- Fix [CVE-2023-1428](https://github.com/advisories/GHSA-6628-q6j9-w8vg "CVE-2023-1428") and [CVE-2023-32731](https://github.com/advisories/GHSA-cfgp-2977-2fmm "CVE-2023-32731") ([#943](https://github.com/scalar-labs/scalardb/pull/943))
- Fix [CVE-2023-2976](https://github.com/advisories/GHSA-7g45-4rm6-3mm3 "CVE-2023-2976") ([#954](https://github.com/scalar-labs/scalardb/pull/954))

## v3.6.6

**Release date:** June 30, 2023 

### Summary

This release has several small improvements and vulnerability fixes.

### Change logs

#### Improvements

- Improve some `toString` expressions of Selection Operators ([#920](https://github.com/scalar-labs/scalardb/pull/920))

#### Bug fixes

- Bump scalar-labs/jre8 from 1.1.12 to 1.1.13 in /server ([#881](https://github.com/scalar-labs/scalardb/pull/881))
- Bump scalar-labs/jre8 from 1.1.12 to 1.1.13 in /schema-loader ([#882](https://github.com/scalar-labs/scalardb/pull/882))
- Bump scalar-labs/jre8 from 1.1.13 to 1.1.14 in /schema-loader ([#903](https://github.com/scalar-labs/scalardb/pull/903))
- Bump scalar-labs/jre8 from 1.1.13 to 1.1.14 in /server ([#902](https://github.com/scalar-labs/scalardb/pull/902))

#### Documentation

- Change HTML syntax to Markdown for images (3.6) ([#876](https://github.com/scalar-labs/scalardb/pull/876))

## v3.6.5

**Release date:** April 28, 2023 

### Summary

This release has several bug fixes and vulnerability fixes.

### Change logs

#### Bug fixes

- Should care about ScanWithIndex in ScalarDbUtils.copyAndSetTargetToIfNot() ([#793](https://github.com/scalar-labs/scalardb/pull/793))
- Fix CVE-2022-42898 ([#794](https://github.com/scalar-labs/scalardb/pull/794))
- Fix [CVE-2023-0286](https://github.com/advisories/GHSA-x4qr-2fvf-3mr5 "CVE-2023-0286") ([#821](https://github.com/scalar-labs/scalardb/pull/821))
- Fix [CVE-2023-0361](https://github.com/advisories/GHSA-5547-g9w2-52xj "CVE-2023-0361") and [CVE-2022-41723](https://github.com/advisories/GHSA-vvpx-j8f3-3w6h "CVE-2022-41723") ([#834](https://github.com/scalar-labs/scalardb/pull/834))
- Fix [CVE-2022-41721](https://github.com/advisories/GHSA-fxg5-wq6x-vr4w "CVE-2022-41721") ([#808](https://github.com/scalar-labs/scalardb/pull/808))

## v3.6.4

**Release date:** December 27, 2022 

### Summary

This release adds [several configurations for gRPC](https://github.com/scalar-labs/scalardb/pull/776) and has several bug fixes.

### Change logs

#### Enhancements

- Add configurations for gRPC ([#776](https://github.com/scalar-labs/scalardb/pull/776))

#### Bug fixes

- Upgrade docker image version to fix [CVE-2021-46848](https://github.com/advisories/GHSA-6468-68pw-9chw "CVE-2021-46848") ([#766](https://github.com/scalar-labs/scalardb/pull/766))
- Fix [CVE-2022-21363](https://github.com/advisories/GHSA-g76j-4cxx-23h9 "CVE-2022-21363") and [CVE-2021-2471](https://github.com/advisories/GHSA-w6f2-8wx4-47r5 "CVE-2021-2471") ([#773](https://github.com/scalar-labs/scalardb/pull/773))
- Fix [CVE-2022-41946](https://github.com/advisories/GHSA-562r-vg33-8x8h "CVE-2022-41946") ([#774](https://github.com/scalar-labs/scalardb/pull/774))

## v3.6.3

**Release date:** December 1, 2022 

### Summary

This release has several bug fixes.

### Change logs

#### Bug fixes

- Update protobuf and grpc to fix [CVE-2022-3171](https://github.com/advisories/GHSA-h4h5-3hr4-j3g2 "CVE-2022-3171") ([#738](https://github.com/scalar-labs/scalardb/pull/738))
- Fix [CVE-2022-40151](https://github.com/advisories/GHSA-f8cc-g7j8-xxpm "CVE-2022-40151") and [CVE-2022-40152](https://github.com/advisories/GHSA-3f7h-mf4q-vrm4 "CVE-2022-40152") ([#743](https://github.com/scalar-labs/scalardb/pull/743))

## v3.6.2

**Release date:** November 16, 2022 

### Summary

This release has several bug fixes.

### Change logs

#### Bug fixes

- Fix [CVE-2021-3999](https://github.com/advisories/GHSA-vfch-2fr8-r5c2 "CVE-2021-3999"), [CVE-2022-1586](https://github.com/advisories/GHSA-f3pv-9fwh-mp3x "CVE-2022-1586") and [CVE-2022-1587](https://github.com/advisories/GHSA-jmvm-hj36-w5hc "CVE-2022-1587") ([#700](https://github.com/scalar-labs/scalardb/pull/700))
- Commit/rollback records should always be done for all records even on error ([#680](https://github.com/scalar-labs/scalardb/pull/680))
- Should use partition key and clustering key from result in recovery ([#681](https://github.com/scalar-labs/scalardb/pull/681))
- Fix [CVE-2022-27664](https://github.com/advisories/GHSA-69cg-p879-7622 "CVE-2022-27664") ([#716](https://github.com/scalar-labs/scalardb/pull/716))
- Should check the value range of BigIntColumn ([#720](https://github.com/scalar-labs/scalardb/pull/720))
- Fix [CVE-2022-32149](https://github.com/advisories/GHSA-69ch-w2m2-3vjp "CVE-2022-32149") ([#727](https://github.com/scalar-labs/scalardb/pull/727))
- Fix [CVE-2022-42003](https://github.com/advisories/GHSA-jjjh-jjxp-wpff "CVE-2022-42003") and [CVE-2022-42004](https://github.com/advisories/GHSA-rgv9-q543-rqg4 "CVE-2022-42004") ([#726](https://github.com/scalar-labs/scalardb/pull/726))
- Fix dependency errors for Maven projects ([#735](https://github.com/scalar-labs/scalardb/pull/735))
- Fix typos in exception messages ([#714](https://github.com/scalar-labs/scalardb/pull/714))

## v3.6.1

**Release date:** September 2, 2022 

### Summary

This release has several bug fixes.

### Change logs

#### Bug fixes

- Fix [CVE-2022-31197](https://github.com/advisories/GHSA-r38f-c4h4-hqq2 "CVE-2022-31197") affecting PostgreSQL driver ([#650](https://github.com/scalar-labs/scalardb/pull/650))
- Fix [CVE-2021-46828](https://github.com/advisories/GHSA-x62c-6mxr-74fh "CVE-2021-46828") by bumping the jre8 dependency version ([#653](https://github.com/scalar-labs/scalardb/pull/653))
- Fix [CVE-2022-2509](https://github.com/advisories/GHSA-w33j-4mrg-pgc3 "CVE-2022-2509") ([#654](https://github.com/scalar-labs/scalardb/pull/654))
- Fix [CVE-2022-37434](https://github.com/advisories/GHSA-cfmr-vrgj-vqwv "CVE-2022-37434") ([#677](https://github.com/scalar-labs/scalardb/pull/677))

## v3.6.0

**Release date:** July 8, 2022

### Summary

This release has a lot of API changes while preserving backward compatibility. Please see [Java API Guide](https://github.com/scalar-labs/scalardb/blob/v3.6.0/docs/api-guide.mdx) for the details of the API.

Also, it has a lot of enhancements, improvements, bug fixes, vulnerability fixes, and document improvements. Please see the following Change logs for the details.

### Change logs

#### Enhancements

- Add suspend method to TwoPhaseCommitTransactionManager ([#588](https://github.com/scalar-labs/scalardb/pull/588))
- Allow null values ([#512](https://github.com/scalar-labs/scalardb/pull/512))
- Add factory methods to Key ([#517](https://github.com/scalar-labs/scalardb/pull/517))
- Add factory methods to Scan.Ordering ([#520](https://github.com/scalar-labs/scalardb/pull/520))
- Add ConditionBuilder ([#519](https://github.com/scalar-labs/scalardb/pull/519))
- Add creating and dropping index support to DistributedStorageAdmin ([#526](https://github.com/scalar-labs/scalardb/pull/526))
- Introduce DistributedTransactionAdmin ([#528](https://github.com/scalar-labs/scalardb/pull/528))
- Add support for isNull and isNotNull conditions ([#529](https://github.com/scalar-labs/scalardb/pull/529))
- Add SQL API ([#525](https://github.com/scalar-labs/scalardb/pull/525))
- Support parameterized statement in SQL API ([#547](https://github.com/scalar-labs/scalardb/pull/547))
- Introduce ScanAll operation ([#548](https://github.com/scalar-labs/scalardb/pull/548))
- Release SNAPSHOT versions ([#561](https://github.com/scalar-labs/scalardb/pull/561))
- Add scanAll for cassandra storage ([#570](https://github.com/scalar-labs/scalardb/pull/570))
- Add DistributedTransactionAdminService to Scalar DB Server ([#575](https://github.com/scalar-labs/scalardb/pull/575))
- Add ScanAll for Cosmos DB storage ([#578](https://github.com/scalar-labs/scalardb/pull/578))
- Add new steps in the release.yaml to push container to Azure Container Registry ([#580](https://github.com/scalar-labs/scalardb/pull/580))
- Add ScanAll for DynamoDB storage ([#577](https://github.com/scalar-labs/scalardb/pull/577))
- Add ScanAll for JDBC storage ([#582](https://github.com/scalar-labs/scalardb/pull/582))
- Implement the checkPaused service according to scalar-admin 1.2.0 ([#583](https://github.com/scalar-labs/scalardb/pull/583))
- Add ScanAll to GRPC storage ([#584](https://github.com/scalar-labs/scalardb/pull/584))
- Use `max_pause_wait_time` in AdminService ([#585](https://github.com/scalar-labs/scalardb/pull/585))
- Implement ScanAll for Consensus Commit ([#586](https://github.com/scalar-labs/scalardb/pull/586))
- Add builder for Put, Delete, Scan and Get operations ([#601](https://github.com/scalar-labs/scalardb/pull/601))
- Add some useful methods ([#614](https://github.com/scalar-labs/scalardb/pull/614))
- Introduce GetWithIndex and ScanWithIndex operations ([#618](https://github.com/scalar-labs/scalardb/pull/618))
- Add methods to repair table and coordinator table to the Admin interfaces ([#613](https://github.com/scalar-labs/scalardb/pull/613))
- Add repair table command to the Schema Loader Tool ([#622](https://github.com/scalar-labs/scalardb/pull/622))

#### Improvements

- Refactor ImmutableLinkedHashSet ([#513](https://github.com/scalar-labs/scalardb/pull/513))
- Hide `Value` from users ([#515](https://github.com/scalar-labs/scalardb/pull/515))
- Add more explicit methods to Put ([#516](https://github.com/scalar-labs/scalardb/pull/516))
- Deprecate the methods for default namespace and table ([#518](https://github.com/scalar-labs/scalardb/pull/518))
- Add conditional mutation integration test ([#522](https://github.com/scalar-labs/scalardb/pull/522))
- Add a method to get DataType of the column to Value ([#523](https://github.com/scalar-labs/scalardb/pull/523))
- Introduce Column ([#527](https://github.com/scalar-labs/scalardb/pull/527))
- Extract Admin interface from XXXAdmin ([#531](https://github.com/scalar-labs/scalardb/pull/531))
- Add a integration test putting a null value for secondary index column ([#530](https://github.com/scalar-labs/scalardb/pull/530))
- Extract an interface for transaction CRUD operations ([#533](https://github.com/scalar-labs/scalardb/pull/533))
- Move commonly used classes to `common` package ([#532](https://github.com/scalar-labs/scalardb/pull/532))
- Execute conditional mutation integration tests in parallel ([#536](https://github.com/scalar-labs/scalardb/pull/536))
- Refactor SQL API ([#538](https://github.com/scalar-labs/scalardb/pull/538))
- Add more methods to SQL builders ([#540](https://github.com/scalar-labs/scalardb/pull/540))
- Rename metadata cache expiration time configuration name ([#539](https://github.com/scalar-labs/scalardb/pull/539))
- Support alias in SQL API ([#542](https://github.com/scalar-labs/scalardb/pull/542))
- Cache metadata in SQL API ([#543](https://github.com/scalar-labs/scalardb/pull/543))
- Fix typo in the integrationTestTwoPhaseConsensusCommit gradle task name ([#546](https://github.com/scalar-labs/scalardb/pull/546))
- Use collectors in Guava ([#545](https://github.com/scalar-labs/scalardb/pull/545))
- Update the base image jre8 to 1.1.0 ([#551](https://github.com/scalar-labs/scalardb/pull/551))
- Invalidate metadata cache when schema change happens in SQL API ([#549](https://github.com/scalar-labs/scalardb/pull/549))
- Change Gradle dependencies format ([#554](https://github.com/scalar-labs/scalardb/pull/554))
- Add validations for create table statements in SQL API ([#552](https://github.com/scalar-labs/scalardb/pull/552))
- Migrate CI to GitHub actions ([#541](https://github.com/scalar-labs/scalardb/pull/541))
- Upgrade JUnit to 5 ([#555](https://github.com/scalar-labs/scalardb/pull/555))
- Trigger CI for "push" event on the master branch ([#557](https://github.com/scalar-labs/scalardb/pull/557))
- Rearrange integration tests ([#558](https://github.com/scalar-labs/scalardb/pull/558))
- Update the base image jre8 to 1.1.1 ([#560](https://github.com/scalar-labs/scalardb/pull/560))
- Add transaction integration tests ([#559](https://github.com/scalar-labs/scalardb/pull/559))
- Rearrange schema loader integration tests ([#565](https://github.com/scalar-labs/scalardb/pull/565))
- Rearrange server integration tests ([#566](https://github.com/scalar-labs/scalardb/pull/566))
- Add integration tests for SQL API ([#567](https://github.com/scalar-labs/scalardb/pull/567))
- Add docker check to CI ([#568](https://github.com/scalar-labs/scalardb/pull/568))
- Add ifNotExists and ifExists flags to RPC ([#569](https://github.com/scalar-labs/scalardb/pull/569))
- Add CI triggers for "push" events on support and release branches ([#572](https://github.com/scalar-labs/scalardb/pull/572))
- Refactor DistributedTransactionAdmin ([#574](https://github.com/scalar-labs/scalardb/pull/574))
- Remove SQL API ([#576](https://github.com/scalar-labs/scalardb/pull/576))
- Refactor DatabaseConfig related things ([#579](https://github.com/scalar-labs/scalardb/pull/579))
- Enable PITR for metadata table in Dynamo DB adapter ([#581](https://github.com/scalar-labs/scalardb/pull/581))
- Update jre8 base image to 1.1.2 ([#587](https://github.com/scalar-labs/scalardb/pull/587))
- Update dependencies to fix [CVE-2022-25647](https://github.com/advisories/GHSA-4jrv-ppp4-jm57 "CVE-2022-25647") ([#589](https://github.com/scalar-labs/scalardb/pull/589))
- Use dockerize command by default in the Dockerfile ([#590](https://github.com/scalar-labs/scalardb/pull/590))
- Handle projections in query for Cosmos DB ([#591](https://github.com/scalar-labs/scalardb/pull/591))
- For Dynamo storage, throw an exception when a Put set a secondary index column value to null ([#593](https://github.com/scalar-labs/scalardb/pull/593))
- Do not return primary key columns by default for selection operation in Storage mode ([#592](https://github.com/scalar-labs/scalardb/pull/592))
- Add check for empty key ([#594](https://github.com/scalar-labs/scalardb/pull/594))
- Add integration test for scanning table without clustering key ([#595](https://github.com/scalar-labs/scalardb/pull/595))
- Merge protocVersion and protobufVersion ([#596](https://github.com/scalar-labs/scalardb/pull/596))
- Add toString() to condition related classes ([#599](https://github.com/scalar-labs/scalardb/pull/599))
- Add a way to disable metadata cache ([#598](https://github.com/scalar-labs/scalardb/pull/598))
- Refactor ConsensusCommitUtils ([#600](https://github.com/scalar-labs/scalardb/pull/600))
- Remove copyDependencies task ([#602](https://github.com/scalar-labs/scalardb/pull/602))
- Fix [CVE-2022-1664](https://github.com/advisories/GHSA-q7pv-fjh6-6xq6 "CVE-2022-1664") ([#604](https://github.com/scalar-labs/scalardb/pull/604))
- Refactor Gradle Plugin things ([#606](https://github.com/scalar-labs/scalardb/pull/606))
- Introduce Column in Protocol Buffers ([#607](https://github.com/scalar-labs/scalardb/pull/607))
- Upgrade SpotBugs ([#597](https://github.com/scalar-labs/scalardb/pull/597))
- Refactor Scalar DB Server ([#609](https://github.com/scalar-labs/scalardb/pull/609))
- Add `@deprecated` javadoc to overriding methods ([#610](https://github.com/scalar-labs/scalardb/pull/610))
- Fix non constant names ([#611](https://github.com/scalar-labs/scalardb/pull/611))
- Refactor Guice modules ([#608](https://github.com/scalar-labs/scalardb/pull/608))
- Use ThreadLocal for Random in integration test ([#612](https://github.com/scalar-labs/scalardb/pull/612))
- Fix [CVE-2022-2068](https://github.com/advisories/GHSA-xjxr-x4h8-946x "CVE-2022-2068") ([#623](https://github.com/scalar-labs/scalardb/pull/623))
- Add Scanner paging support for scan operations to the Cosmos adapter ([#619](https://github.com/scalar-labs/scalardb/pull/619))
- Remove non useful operation in ScannerImpl from the Cosmos DB adapter ([#624](https://github.com/scalar-labs/scalardb/pull/624))
- Rename getCreateOptions() to getCreationOptions() in integration tests ([#629](https://github.com/scalar-labs/scalardb/pull/629))
- Refactor Schema Loader ([#631](https://github.com/scalar-labs/scalardb/pull/631))
- Rename `transactional` to `transaction` ([#632](https://github.com/scalar-labs/scalardb/pull/632))
- Reduce Intellij warnings ([#633](https://github.com/scalar-labs/scalardb/pull/633))

#### Bug fixes

- Fix typo in the javadoc ([#514](https://github.com/scalar-labs/scalardb/pull/514))
- Handle lastEvaluatedKey for query in DynamoDB ([#534](https://github.com/scalar-labs/scalardb/pull/534))
- Fix `Query condition missed key schema element` error in DynamoDB ([#544](https://github.com/scalar-labs/scalardb/pull/544))
- Fix SQL syntax error that happens when scanning a table without clustering key in JDBC adapter ([#550](https://github.com/scalar-labs/scalardb/pull/550))
- Fix equals method of Value for bytes type ([#553](https://github.com/scalar-labs/scalardb/pull/553))
- Upgrade grpc_health_probe ([#562](https://github.com/scalar-labs/scalardb/pull/562))
- Upgrade PostgreSQL driver ([#563](https://github.com/scalar-labs/scalardb/pull/563))
- Upgrade Cosmos DB client ([#564](https://github.com/scalar-labs/scalardb/pull/564))
- Update the docs ([#603](https://github.com/scalar-labs/scalardb/pull/603))
- Fix incompatible change ([#605](https://github.com/scalar-labs/scalardb/pull/605))

#### Documentation

- Update ScalarDB compatibility test matrix ([#510](https://github.com/scalar-labs/scalardb/pull/510))
- Change terms in data model ([#521](https://github.com/scalar-labs/scalardb/pull/521))
- Update CI status badge in index.md ([#556](https://github.com/scalar-labs/scalardb/pull/556))
- Update backup creation and restoration procedures ([#571](https://github.com/scalar-labs/scalardb/pull/571))
- Update Javadoc ([#615](https://github.com/scalar-labs/scalardb/pull/615))
- Update documents ([#616](https://github.com/scalar-labs/scalardb/pull/616))
- Update Getting Started ([#617](https://github.com/scalar-labs/scalardb/pull/617))
- Add documentation for Consensus Commit configurations ([#621](https://github.com/scalar-labs/scalardb/pull/621))
- Add API guide ([#620](https://github.com/scalar-labs/scalardb/pull/620))
- Add myself in the released pom file "developers" information ([#628](https://github.com/scalar-labs/scalardb/pull/628))
- Add documentation for Storage abstraction ([#625](https://github.com/scalar-labs/scalardb/pull/625))
- Refactor Scalar DB Server documentation ([#627](https://github.com/scalar-labs/scalardb/pull/627))
- Add GraphQL and SQL to License section in README ([#626](https://github.com/scalar-labs/scalardb/pull/626))
- Fix typo ([#630](https://github.com/scalar-labs/scalardb/pull/630))
- Small modifications for documentation ([#634](https://github.com/scalar-labs/scalardb/pull/634))
